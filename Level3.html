<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="P1.css">
  <title>GAME</title>

</head>
<body>

  <canvas id='canvas' style='border: 1px solid; width: 1200px; height: 600px;'>
    
  </canvas>
 

  <script>
  
   
	

    // Cache a reference to the html element
    var canvas = document.getElementById('canvas');
	

    // Set the drawing surface dimensions to match the canvas
    canvas.width  = canvas.scrollWidth;
    canvas.height = canvas.scrollHeight;

    // Get a reference to the 2d drawing context / api
    var ctx = canvas.getContext('2d');
	
	
	
	var x=87;
	var y=512;
	
	var x3 = 387-75; 
	var y3 = 287;
	
	var x4=687;
	var y4=212;
	var p;
	
	
	var timetake3=[];
	var xaxis3=[];
	var yaxis3=[];
	
	
	ctx.strokeStyle = 'black';
	
    ctx.strokeRect(275, 250, 75, 75);
	ctx.strokeRect(350, 250, 75, 75);
	
	ctx.strokeRect(425, 250, 75, 75);
	ctx.strokeRect(425, 175, 75, 75);
	ctx.strokeRect(425, 100, 75, 75);
	ctx.strokeRect(425, 325, 75, 75);
	ctx.strokeRect(425, 400, 75, 75);
	ctx.strokeRect(425, 475, 75, 75);
//	ctx.strokeRect(425, 550, 75, 75);
//	ctx.strokeRect(425, 625, 75, 75);
	
	ctx.strokeRect(500, 250, 75, 75);
	ctx.strokeRect(575, 250, 75, 75);
	ctx.strokeRect(650, 250, 75, 75);
	
//	ctx.strokeRect(200, 625, 75, 75);
//	ctx.strokeRect(275, 625, 75, 75);
//	ctx.strokeRect(350, 625, 75, 75);
//	ctx.strokeRect(500, 625, 75, 75);
//	ctx.strokeRect(575, 625, 75, 75);
//	ctx.strokeRect(650, 625, 75, 75);
	
	ctx.strokeRect(650, 175, 75, 75);
	ctx.strokeRect(650, 325, 75, 75);
	ctx.strokeRect(650, 400, 75, 75);
	ctx.strokeRect(650, 475, 75, 75);
//	ctx.strokeRect(650, 550, 75, 75);
	
	ctx.strokeRect(50, 475, 75, 75);
	ctx.strokeRect(125, 475, 75, 75);
	ctx.strokeRect(200, 475, 75, 75);
	ctx.strokeRect(275, 475, 75, 75);
	ctx.strokeRect(350, 475, 75, 75);
	ctx.strokeRect(425, 475, 75, 75);
	
//	ctx.strokeRect(50, 550, 75, 75);
//	ctx.strokeRect(50, 625, 75, 75);
	
	ctx.strokeRect(575, 475, 75, 75);
	
	
	
	
	
	
	
	
	
	
	
	
	/*
	ctx.strokeRect(100, 225, 75, 75);
	ctx.strokeRect(175, 225, 75, 75);
	ctx.strokeRect(250, 225, 75, 75);
	ctx.strokeRect(100, 300, 75, 75);
	ctx.strokeRect(175, 300, 75, 75);
	ctx.strokeRect(250, 300, 75, 75);
	ctx.strokeRect(100, 375, 75, 75);
	ctx.strokeRect(175, 375, 75, 75);
	ctx.strokeRect(250, 375, 75, 75);
	ctx.strokeRect(325, 300, 75, 75);
	ctx.strokeRect(400, 300, 75, 75);
	ctx.strokeRect(475, 300, 75, 75);
	ctx.strokeRect(325, 375, 75, 75);
	ctx.strokeRect(400, 375, 75, 75);
	ctx.strokeRect(475, 375, 75, 75);
	
	
	
	*/
	
	
	
	
	
	
	
	ctx.font="bold 25px Tahoma";
    //ctx.text-align="end";
	ctx.fillStyle = 'green';
    ctx.fillText("LEVEL 3",100,100);
	
	
	ctx.fillStyle = 'blue';
	ctx.fillRect(575, 475, 75, 75);
	ctx.font="bold 20px Tahoma";
    //ctx.text-align="end";
	ctx.fillStyle = 'white';
    ctx.fillText("GOAL",585,518);
	
	
	
	
	
	
	
	
	
	
	ctx.beginPath();
    ctx.arc(87,512, 25, 0, Math.PI * 2);
    ctx.fillStyle = 'blue';
	ctx.fill();
	
	
	ctx.beginPath();
    ctx.arc(387-75,287, 25, 0, Math.PI * 2);
    ctx.fillStyle = 'red';
	ctx.fill();
	
	ctx.beginPath();
    ctx.arc(687,212, 25, 0, Math.PI * 2);
    ctx.fillStyle = 'red';
	ctx.fill();
	
	
	function fun(){
		if(event.clientX>1200){
		//	alert("You cannot move because of collision");
		
		}else{
			if((x+38)<event.clientX && event.clientY<y+38){
				a=0;
				if(event.clientX-(x+38)<75 && (y+38)- event.clientY<75){
					
					x2=x+75;
					y2=y;
					if(x2==x3 && y2==y3 || x2==x4 && y2==y4){
						alert("You cannot move because of collision");
						exit();
						p=1;
			
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x=x+75,y, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();
			}
			}else{
				a=1;
				alert("Invalid move");
				
			
			}
			}
			
			else if((y+38)<event.clientY && event.clientX<x+38){
				a=0;
				if(event.clientY-(y+38)<75 && (x+38)-event.clientX<75){
					
					x2=x;
					y2=y+75;
					if(x2==x3 && y2==y3 || x2==x4 && y2==y4){
						alert("You cannot move because of collision");
						exit();
						p=1;
					
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x,y=y+75, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();
				}
				}else{
					a=1;
					alert("Invalid move");
				
			}
			}
			else if((x-38)>event.clientX && event.clientY<(y+38)){
				a=0;
				if((x-38)-event.clientX <75 && (y+38)-event.clientY<75){
					
					x2=x-75;
					y2=y;
					if(x2==x3 && y2==y3 || x2==x4 && y2==y4){
						alert("You cannot move because of collision");
						exit();
						p=1;
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x=x-75,y, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();	
					}
				}else{
					a=1;
					alert("Invalid move");
				}
			
			}else if((y-38)>event.clientY && event.clientX<(x+38)){
				a=0;
				if((y-38)-event.clientY<75 && (x+38)- event.clientX<75){
					
					x2=x;
					y2=y-75;
					if(x2==x3 && y2==y3 || x2==x4 && y2==y4){
						alert("You cannot move because of collision");
						exit();
						p=1;
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x,y=y-75, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();	
				}
				}else{
					a=1;
					alert("Invalid move");
				
				
				}	
			
		}	else if((y+38)<event.clientY && event.clientX>x+38){
			
				a=1;
				alert("Invalid move");
		
			}
		
		}
		
		
		
		var date= new Date().getTime();
		timetake3.push(date);
		xaxis3.push(x);
		yaxis3.push(y);
		localStorage.setItem("time3", timetake3);
	
		localStorage.setItem("xaxis3", xaxis3);
	
		localStorage.setItem("yaxis3", yaxis3);
		
		
		
		
		
		
		
		
		
		
		
		
		
		//computer 1


		if(a!=1){
			if(y3==287 && x3==387-75){
				if(x2==387 && y2==287){
			//
		
				}else{
					p=1;
					ctx.clearRect(x3-30,y3-30, 55,55);
					ctx.beginPath();
					ctx.arc(x3=x3+75,y3, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();	
		}
		}else if(y3==287 && x3==387){
			if(p==0){
				if(x2==387-75 && y2==287){
				//
			
				}else if(x2==387+75 && y2==287){
					ctx.clearRect(x3-30,y3-30, 55,55);
					ctx.beginPath();
					ctx.arc(x3=x3-75,y3, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();
					flag=flag+1;
				//
			}else{
				ctx.clearRect(x3-30,y3-30, 55,55);
				ctx.beginPath();
				ctx.arc(x3=x3-75,y3, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();
				flag=flag+1;			
			}
			}else if(p==1){
				if(x2==387-75 && y2==287){
				//
			
				}else if(x2==387+75 && y2==287){
			
				//
				}else{
					ctx.clearRect(x3-30,y3-30, 55,55);
					ctx.beginPath();
					ctx.arc(x3=x3+75,y3, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();
					flag=flag-1;
			}
		}
		}else if(y3==287 && x3==387+75){
			if(x2==387-75 && y2==287){
			//
		
			}else{
				ctx.clearRect(x3-30,y3-30, 55,55);
				p=0;
				ctx.beginPath();
				ctx.arc(x3=x3-75,y3, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();
	}
	
	}
	}else{
		//
	}
	
	
	
	
// computer 2
	
	
	if(a!=1){

	if(y4==212 && x4==687){
		if(x2==687 && y2==212+75){
			//
		
		}else{
			p=1;
			ctx.clearRect(x4-30,y4-30, 55,55);
			ctx.beginPath();
			ctx.arc(x4,y4=y4+75, 25, 0, Math.PI * 2);
			ctx.fillStyle = 'red';
			ctx.fill();	
	}
	}else if(y4==287 && x4==687){
		if(p==0){
			if(x2==687 && y2==212){
				//
			
			}else if(x2==687 && y2==212+75+75){
			
				//
			}else{
				ctx.clearRect(x4-30,y4-30, 55,55);
				ctx.beginPath();
				ctx.arc(x4,y4=y4-75, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();
				flag=flag+1;			
			}
			}else if(p==1){
			if(x2==687 && y2==212){
				//
			
			}else if(x2==687 && y2==212+75+75){
			
				//
			}else{
				ctx.clearRect(x4-30,y4-30, 55,55);
				ctx.beginPath();
				ctx.arc(x4,y4=y4+75, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();
				flag=flag-1;
			}
		}
	}else if(y4==287+75 && x4==687){
		if(x2==687 && y2==287){
			//
		
		}else{
			ctx.clearRect(x4-30,y4-30, 55,55);
			p=0;
			ctx.beginPath();
			ctx.arc(x4,y4=y4-75, 25, 0, Math.PI * 2);
			ctx.fillStyle = 'red';
			ctx.fill();
		}
	
		}

	}else{
	
		//
	}


	
	
	
	
	
	
	
	
	
	
	}	
			
			
			
			
			
			
			
			
			
			
			
		
		
		
		
		
		
		
		
		
	function countdownn(secs){
	
		ctx.clearRect(790,470,600,100);
	//	ctx.clearRect(900,200,600,100);
		ctx.font="bold 20px Tahoma";
		ctx.fillStyle = 'black';
		ctx.fillText("Time remaining : "+secs+" seconds", 800,500);
		
		if(x==612 && y==512){
			//clearRect(300,450,600,400);
			//ctx.fillText("Your Score : "+ score1,400,500);
			clearTimeout(myvar1);
		//	ctx.fillText (" Your time is up!!",450,50);
		//	success();
		//	exit();
			window.location.replace("Lvl3_success.html");
		}
		
		secs--;
		var myvar1= setTimeout('countdownn('+secs+')',1000);
		
	}
	window.addEventListener("load", countdownn(20), false );
	
	
	
	
	function countdown(secs){
	
		ctx.clearRect(790,470,600,100);
	//	ctx.clearRect(900,200,600,100);
		ctx.font="bold 20px Tahoma";
		ctx.fillStyle = 'black';
		ctx.fillText("Time remaining : "+secs+" seconds", 800,500);
		
		if(secs<1){
			//clearRect(300,450,600,400);
			//ctx.fillText("Your Score : "+ score1,400,500);
			clearTimeout(myvar);
		//	ctx.fillText (" Your time is up!!",450,50);
		//	next();
		//	exit();
			window.location.replace("Lvl3_timeout.html");
		}
		
		secs--;
		var myvar= setTimeout('countdown('+secs+')',1000);
		
	}
	window.addEventListener("load", countdown(20), false );
	
	
	
	function dod(){
   
	var pic=new Image();
	pic.src= "Arndit.png"
	
	
	pic.addEventListener("load", function(){ctx.drawImage(pic,1075,0,100,100)},false);
	
	}
	
	window.addEventListener("load", dod, false );
	
		
		
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	</script>
	
	<input type="button"  style="position:absolute;top:117px;left:440px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:192px;left:440px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:267px;left:440px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:342px;left:440px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:417px;left:440px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:492px;left:440px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	 
	 
	
	<input type="button"  style="position:absolute;top:267px;left:290px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:267px;left:365px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:267px;left:515px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:267px;left:590px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:267px;left:665px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	
	<input type="button"  style="position:absolute;top:192px;left:665px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:342px;left:665px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:417px;left:665px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:492px;left:665px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	
	<input type="button"  style="position:absolute;top:492px;left:590px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	
	
	
	<input type="button"  style="position:absolute;top:492px;left:365px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:492px;left:290px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:492px;left:215px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:492px;left:140px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	<input type="button"  style="position:absolute;top:492px;left:65px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
	
	
	
	
	</body>
</html>