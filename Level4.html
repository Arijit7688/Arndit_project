<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="P1.css">
  <title>GAME</title>
</head>
<body>

  <canvas id='canvas' style='border: 1px solid; width: 1250px; height: 600px;'>
    
  </canvas>

  <script>
 
	

    // Cache a reference to the html element
    var canvas = document.getElementById('canvas');
	

    // Set the drawing surface dimensions to match the canvas
    canvas.width  = canvas.scrollWidth;
    canvas.height = canvas.scrollHeight;

    // Get a reference to the 2d drawing context / api
    var ctx = canvas.getContext('2d');
	
	
    var x=137;
	var y=187;
	var x1=287;
	var y1=262;
	var x3=287;
	var y3=262;
	var x4=587;
	var y4=412;
	var x5=662;
	var y5=262;
	var x6=437;
	var y6=337;
	var cost=-1;
	var score1=0;
	var counter=0;
	var p;
	var q;
	var r;
	var s;
	
	
	var timetake4=[];
	var xaxis4=[];
	var yaxis4=[];
	
	
	
	
	
	/*window.onload= function picture(){
		var pic= new Image();
		pic.src="Images.png";
		pic.addEventListener("load", function(){canvas.drawImage(pic,0,0,150,150)},false);
	}*/
	
	
	
	//window.addEventListener("load", picture, false);
	//var a= event.clientX;
	//var b= event.clientY;
    // Green filled rectangle
    //ctx.fillStyle = 'white';
   // ctx.fillRect(50, 50, 100, 100);
	// Red rectangle outline
    ctx.strokeStyle = 'black';
    ctx.strokeRect(100, 150, 75, 75);
	ctx.strokeRect(175, 150, 75, 75);
	ctx.strokeRect(250, 150, 75, 75);
	ctx.strokeRect(100, 225, 75, 75);
	ctx.strokeRect(175, 225, 75, 75);
	ctx.strokeRect(250, 225, 75, 75);
	ctx.strokeRect(100, 300, 75, 75);
	ctx.strokeRect(175, 300, 75, 75);
	ctx.strokeRect(250, 300, 75, 75);
	ctx.strokeRect(100, 375, 75, 75);
	ctx.strokeRect(175, 375, 75, 75);
	ctx.strokeRect(250, 375, 75, 75);
	ctx.strokeRect(325, 300, 75, 75);
	ctx.strokeRect(400, 300, 75, 75);
	ctx.strokeRect(475, 300, 75, 75);
	ctx.strokeRect(325, 375, 75, 75);
	ctx.strokeRect(400, 375, 75, 75);
	ctx.strokeRect(475, 375, 75, 75);
//	ctx.strokeRect(400, 450, 75, 75);
//	ctx.strokeRect(475, 450, 75, 75);
//	ctx.strokeRect(400, 525, 75, 75);
//	ctx.strokeRect(475, 525, 75, 75);
	ctx.strokeRect(550, 150, 75, 75);
	ctx.strokeRect(550, 225, 75, 75);
	ctx.strokeRect(550, 300, 75, 75);	
	ctx.strokeRect(550, 375, 75, 75);
	
	ctx.strokeRect(625, 150, 75, 75);
	ctx.strokeRect(625, 225, 75, 75);
	ctx.strokeRect(625, 300, 75, 75);	
	ctx.strokeRect(625, 375, 75, 75);
	
	ctx.strokeRect(700, 150, 75, 75);
	ctx.strokeRect(700, 225, 75, 75);
	ctx.strokeRect(700, 300, 75, 75);	
	ctx.strokeRect(700, 375, 75, 75);
	ctx.strokeRect(775, 150, 75, 75);
	ctx.strokeRect(850, 150, 75, 75);
	ctx.strokeRect(775, 225, 75, 75);
	ctx.strokeRect(850, 225, 75, 75);
	
	
	
	
	
	
	
//	ctx.strokeRect(550, 525, 75, 75);
//	ctx.strokeRect(625, 525, 75, 75);
//	ctx.strokeRect(700, 525, 75, 75);
//	ctx.strokeRect(550, 450, 75, 75);
//	ctx.strokeRect(625, 450, 75, 75);
//	ctx.strokeRect(700, 450, 75, 75);
//	ctx.strokeRect(550, 600, 75, 75);
//	ctx.strokeRect(625, 600, 75, 75);
//	ctx.strokeRect(700, 600, 75, 75);
//	ctx.strokeRect(550, 675, 75, 75);
//	ctx.strokeRect(625, 675, 75, 75);
//	ctx.strokeRect(700, 675, 75, 75);
	









	ctx.fillStyle = 'blue';
	ctx.fillRect(850, 150, 75, 75);
	ctx.font="bold 20px Tahoma";
    //ctx.text-align="end";
	ctx.fillStyle = 'white';
    ctx.fillText("GOAL",860,195);
	//ctx.fillStyle = 'yellow';
	//ctx.fillRect(900, 250, 100, 100);
	//circle
	
	ctx.beginPath();
    ctx.arc(137,187, 25, 0, Math.PI * 2);
    ctx.fillStyle = 'blue';
	ctx.fill();
	
	ctx.beginPath();
	ctx.arc(287,187+75, 25, 0, Math.PI * 2);
	
    ctx.fillStyle = 'red';
    ctx.fill();
	
	ctx.beginPath();
	ctx.arc(587,412, 25, 0, Math.PI * 2);
	
    ctx.fillStyle = 'red';
    ctx.fill();
	
	
	ctx.beginPath();
	ctx.arc(662,262, 25, 0, Math.PI * 2);
	
    ctx.fillStyle = 'red';
    ctx.fill();
	
	ctx.beginPath();
	ctx.arc(437,337, 25, 0, Math.PI * 2);
	
    ctx.fillStyle = 'red';
    ctx.fill();
	
	
	
	
	ctx.font="bold 25px Tahoma";
    //ctx.text-align="end";
	ctx.fillStyle = 'green';
    ctx.fillText("LEVEL 4",100,100);
	
	
	
	
	
	function fun(){
		if(event.clientX>1200){
		//	alert("You cannot move because of collision");
		
		}else{
			if((x+38)<event.clientX && event.clientY<y+38){
				a=0;
				if(event.clientX-(x+38)<75 && (y+38)- event.clientY<75){
					
					x2=x+75;
					y2=y;
					if(x2==x3 && y2==y3 || x2==x4 && y2==y4 || x2==x5 && y2==y5 || x2==x6 && y2==y6){
						alert("You cannot move because of collision");
						exit();
						p=1;
			
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x=x+75,y, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();
			}
			}else{
				a=1;
				alert("Invalid move");
				
			
			}
			}
			
			else if((y+38)<event.clientY && event.clientX<x+38){
				a=0;
				if(event.clientY-(y+38)<75 && (x+38)-event.clientX<75){
					
					x2=x;
					y2=y+75;
					if(x2==x3 && y2==y3 || x2==x4 && y2==y4 || x2==x5 && y2==y5 || x2==x6 && y2==y6){
						alert("You cannot move because of collision");
						exit();
						p=1;
					
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x,y=y+75, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();
				}
				}else{
					a=1;
					alert("Invalid move");
				
			}
			}
			else if((x-38)>event.clientX && event.clientY<(y+38)){
				a=0;
				if((x-38)-event.clientX <75 && (y+38)-event.clientY<75){
					
					x2=x-75;
					y2=y;
					if(x2==x3 && y2==y3 || x2==x4 && y2==y4 || x2==x5 && y2==y5 || x2==x6 && y2==y6){
						alert("You cannot move because of collision");
						exit();
						p=1;
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x=x-75,y, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();	
					}
				}else{
					a=1;
					alert("Invalid move");
				}
			
			}else if((y-38)>event.clientY && event.clientX<(x+38)){
				a=0;
				if((y-38)-event.clientY<75 && (x+38)- event.clientX<75){
					
					x2=x;
					y2=y-75;
					if(x2==x3 && y2==y3 || x2==x4 && y2==y4 || x2==x5 && y2==y5 || x2==x6 && y2==y6){
						alert("You cannot move because of collision");
						exit();
						p=1;
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x,y=y-75, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();	
				}
				}else{
					a=1;
					alert("Invalid move");
				
				
				}	
			
		}	else if((y+38)<event.clientY && event.clientX>x+38){
			
				a=1;
				alert("Invalid move");
		
			}
		
		}
		
	
	
	
	
		var date= new Date().getTime();
		timetake4.push(date);
		xaxis4.push(x);
		yaxis4.push(y);
		localStorage.setItem("time4", timetake4);
	
		localStorage.setItem("xaxis4", xaxis4);
	
		localStorage.setItem("yaxis4", yaxis4);
	
	
	
	
	
	
	
	
	
	
			
			
	
	
	// computer move 1
	
		if(a!=1){
		if(y3==262 && x3==287){
			if(x2==287 && y2==337){
			//
		
			}else{
				p=1;
				ctx.clearRect(x3-30,y3-30, 55,55);
				ctx.beginPath();
				ctx.arc(x3,y3=y3+75, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();	
		}
		}else if(y3==337 && x3==287){
			if(p==0){
				if(x2==287 && y2==337-75){
				//
			
				}else if(x2==287 && y2==337+75){
			
				//
				}else{
					ctx.clearRect(x3-30,y3-30, 55,55);
					ctx.beginPath();
					ctx.arc(x3,y3=y3-75, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();
					flag=flag+1;			
				}
			}else if(p==1){
				if(x2==287 && y2==337-75){
				//
			
				}else if(x2==287 && y2==337+75){
			
				//
				}else{
					ctx.clearRect(x3-30,y3-30, 55,55);
					ctx.beginPath();
					ctx.arc(x3,y3=y3+75, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();
					flag=flag-1;
			}
			}
		}else if(y3==412 && x3==287){
			if(x2==287 && y2==412-75){
			//
		
			}else{
				ctx.clearRect(x3-30,y3-30, 55,55);
				p=0;
				ctx.beginPath();
				ctx.arc(x3,y3=y3-75, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();
	}
	
	}
	}else{
		//
	}
	
	
	
	
	//computer 4
	
		if(a!=1){
			if(y6==337 && x6==437){
				if (x2==437 && y2==337+75)
				{
					//
				}else{
					ctx.clearRect(x6-30,y6-30, 55,55);
					ctx.beginPath();
					ctx.arc(x6,y6=y6+75, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();
					
				
				}
			}else if(y6==337+75 && x6==437){
				if (x2==437 && y2==337)
				{
					//
				}else{
					ctx.clearRect(x6-30,y6-30, 55,55);
					ctx.beginPath();
					ctx.arc(x6,y6=y6-75, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();
				
				
				}
				
			
			
			
			
			}

		
		}else{
			//
		}
	
	// computer move 3
		
		
		if(a!=1){
		if(y5==262 && x5==662){
			if(x2==662+75 && y2==262){
			//
		
			}else{
				s=1;
				ctx.clearRect(x5-30,y5-30, 55,55);
				ctx.beginPath();
				ctx.arc(x5=x5+75,y5, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();	
		}
		}else if(y5==262 && x5==737){
			if(s==0){
				if(x2==737+75 && y2==262){
				//
			
				}else if(x2==737-75 && y2==262){
				//
				
				}else{
					ctx.clearRect(x5-30,y5-30, 55,55);
					ctx.beginPath();
					ctx.arc(x5=x5-75,y5, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();
					flag=flag+1;			
			}
			}else if(s==1){
				if(x2==737+75 && y2==262){
					//
		
			
				}else if(x2==737-75 && y2==262){
			
					//
				}else{
					ctx.clearRect(x5-30,y5-30, 55,55);
					ctx.beginPath();
					ctx.arc(x5=x5+75,y5, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();
					flag=flag-1;
			}
		}
		}else if(y5==262 && x5==737+75){
			if(x2==737 && y2==262){
			//
		
			}else{
				ctx.clearRect(x5-30,y5-30, 55,55);
				s=0;
				ctx.beginPath();
				ctx.arc(x5=x5-75,y5, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();
			}
	
			}
	}	else{
			//
		
		}	
			
	
	

	
	
	
	
	
	
	// computer move 2
	
		if(a!=1){
			if(y4==412 && x4==587){
				if(x2==337 && y2==587){
				//
		
				}else{
					q=1;
					ctx.clearRect(x4-30,y4-30, 55,55);
					ctx.beginPath();
					ctx.arc(x4,y4=y4-75, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();	
				}
			}else if(y4==337 && x4==587){
				if(q==0){
					if(x2==587 && y2==337-75){
					//
					}else if(x2==587 && y2==337+75){
					//
				
					}else{
						ctx.clearRect(x4-30,y4-30, 55,55);
						ctx.beginPath();
						ctx.arc(x4,y4=y4+75, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'red';
						ctx.fill();
						flag=flag+1;			
					}
				}else if(q==1){
					if(x2==287 && y2==337-75){
					//
			
					}else if(x2==287 && y2==337+75){
			
					//
					}else{
						ctx.clearRect(x4-30,y4-30, 55,55);
						ctx.beginPath();
						ctx.arc(x4,y4=y4-75, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'red';
						ctx.fill();
						flag=flag-1;
					}
				}
			}else if(y4==262 && x4==587){
				if(x2==587 && y2==337){
			//
		
				}else{
					ctx.clearRect(x4-30,y4-30, 55,55);
					q=0;
					ctx.beginPath();
					ctx.arc(x4,y4=y4+75, 25, 0, Math.PI * 2);
					ctx.fillStyle = 'red';
					ctx.fill();
				}
	
			}
		}else{
			//
		}
	
	
	
	
	
	
	

	
	
	
	
	
	
	
	
	
	
	}
	
	// clock
	
	function countdownn(secs){
	
		ctx.clearRect(790,470,600,100);
	//	ctx.clearRect(900,200,600,100);
		ctx.font="bold 20px Tahoma";
		ctx.fillStyle = 'black';
		ctx.fillText("Time remaining : "+secs+" seconds", 800,500);
		
		if(x==887 && y==187){
			//clearRect(300,450,600,400);
			//ctx.fillText("Your Score : "+ score1,400,500);
			clearTimeout(myvar1);
		//	ctx.fillText (" Your time is up!!",450,50);
		//	success();
		//	exit();
			window.location.replace("Lvl4_success.html");
		}
		
		secs--;
		var myvar1= setTimeout('countdownn('+secs+')',1000);
		
	}
	window.addEventListener("load", countdownn(30), false );
	
	
	
	
	function countdown(secs){
	
		ctx.clearRect(790,470,600,100);
	//	ctx.clearRect(900,200,600,100);
		ctx.font="bold 20px Tahoma";
		ctx.fillStyle = 'black';
		ctx.fillText("Time remaining : "+secs+" seconds", 800,500);
		
		if(secs<1){
			//clearRect(300,450,600,400);
			//ctx.fillText("Your Score : "+ score1,400,500);
			clearTimeout(myvar);
		//	ctx.fillText (" Your time is up!!",450,50);
		//	next();
		//	exit();
			window.location.replace("Lvl4_timeout.html");
		}
		
		secs--;
		var myvar= setTimeout('countdown('+secs+')',1000);
		
	}
	window.addEventListener("load", countdown(30), false );
	
	
	
	
	
	//image
	
	
	
	
	 function dod(){
   
	var pic=new Image();
	pic.src= "Arndit.png"
	
	
	pic.addEventListener("load", function(){ctx.drawImage(pic,1125,0,100,100)},false);
	
	}
	
	window.addEventListener("load", dod, false );
	
	/*
	function countdown(secs){
	
		ctx.clearRect(300,450,600,400);
		ctx.clearRect(300,25,600,100);
		ctx.fillText("Time remaining : "+secs+" seconds", 400,600);
		
		
		if(secs<1){
			//clearRect(300,450,600,400);
			//ctx.fillText("Your Score : "+ score1,400,500);
			clearTimeout(myvar);
			ctx.fillText (" Your time is up!!",450,50);
			
			exit();
		}
		
		secs--;
		var myvar= setTimeout('countdown('+secs+')',1000);
		
	}
	window.addEventListener("load", countdown(300), false );
	*/
  </script>
  
  
  <input type="button"  style="position:absolute;top:165px;left:115px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
  <input type="button"  style="position:absolute;top:165px;left:190px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:165px;left:265px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:115px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:190px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:265px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:115px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:190px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:265px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:115px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:190px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:265px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:340px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:415px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:490px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:340px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:415px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:490px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:565px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:565px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:565px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:165px;left:565px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  
  <input type="button"  style="position:absolute;top:165px;left:640px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:640px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:640px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:640px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  
  <input type="button"  style="position:absolute;top:165px;left:715px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:715px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:715px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:715px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  
  <input type="button"  style="position:absolute;top:165px;left:790px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:165px;left:865px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:790px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:865px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
	
</body>
</html>