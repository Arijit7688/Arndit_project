<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="P1.css">
  <title>GAME</title>

</head>
<body>

  <canvas id='canvas' style='border: 1px solid; width: 1200px; height: 600px;'>
    
  </canvas>
 

  <script>
 
	

    // Cache a reference to the html element
    var canvas = document.getElementById('canvas');
	

    // Set the drawing surface dimensions to match the canvas
    canvas.width  = canvas.scrollWidth;
    canvas.height = canvas.scrollHeight;

    // Get a reference to the 2d drawing context / api
    var ctx = canvas.getContext('2d');
	
	
    var x=137;
	var y=187;
	var x1=287;
	var y1=262;
	var x3=287;
	var y3=262;
	var cost=-1;
	var score1=0;
	var counter=0;
	var p;
	var a;
	
	
	
	var timetake5=[];
	var xaxis5=[];
	var yaxis5=[];
	
	
//	var flag=0;
	/*window.onload= function picture(){
		var pic= new Image();
		pic.src="Images.png";
		pic.addEventListener("load", function(){canvas.drawImage(pic,0,0,150,150)},false);
	}*/
	
	
	
	//window.addEventListener("load", picture, false);
	//var a= event.clientX;
	//var b= event.clientY;
    // Green filled rectangle
    //ctx.fillStyle = 'white';
   // ctx.fillRect(50, 50, 100, 100);
	// Red rectangle outline
	
	
	
    ctx.strokeStyle = 'black';
    ctx.strokeRect(100, 150, 75, 75);
	ctx.strokeRect(175, 150, 75, 75);
	ctx.strokeRect(250, 150, 75, 75);
	ctx.strokeRect(100, 225, 75, 75);
	ctx.strokeRect(175, 225, 75, 75);
	ctx.strokeRect(250, 225, 75, 75);
	ctx.strokeRect(100, 300, 75, 75);
	ctx.strokeRect(175, 300, 75, 75);
	ctx.strokeRect(250, 300, 75, 75);
	ctx.strokeRect(100, 375, 75, 75);
	ctx.strokeRect(175, 375, 75, 75);
	ctx.strokeRect(250, 375, 75, 75);
	ctx.strokeRect(325, 300, 75, 75);
	ctx.strokeRect(400, 300, 75, 75);
	ctx.strokeRect(475, 300, 75, 75);
	ctx.strokeRect(325, 375, 75, 75);
	ctx.strokeRect(400, 375, 75, 75);
	ctx.strokeRect(475, 375, 75, 75);
	
	ctx.fillStyle = 'blue';
	ctx.fillRect(475, 375, 75, 75);
	ctx.font="bold 20px Tahoma";
    //ctx.text-align="end";
	ctx.fillStyle = 'white';
    ctx.fillText("GOAL",486,420);
	
	
	//ctx.fillStyle = 'yellow';
	//ctx.fillRect(900, 250, 100, 100);
	//circle
	
	ctx.beginPath();
    ctx.arc(137,187, 25, 0, Math.PI * 2);
    ctx.fillStyle = 'blue';
	ctx.fill();
	
	ctx.beginPath();
	ctx.arc(287,187+75, 25, 0, Math.PI * 2);
	
    ctx.fillStyle = 'red';
    ctx.fill();
	
	
	ctx.font="bold 25px Tahoma";
    //ctx.text-align="end";
	ctx.fillStyle = 'green';
    ctx.fillText("LEVEL 5",100,100);
	
	
	
	
	
	
	
	
	function fun(){
		if(event.clientX>1200){
		//	alert("You cannot move because of collision");
		
		}else{
			if((x+38)<event.clientX && event.clientY<y+38){
				a=0;
				if(event.clientX-(x+38)<75 && (y+38)- event.clientY<75){
					
					x2=x+75;
					y2=y;
					if(x2==x3 && y2==y3){
						alert("You cannot move because of collision");
						exit();
						p=1;
			
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x=x+75,y, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();
			}
			}else{
				a=1;
				alert("Invalid move");
				
			
			}
			}
			
			else if((y+38)<event.clientY && event.clientX<x+38){
				a=0;
				if(event.clientY-(y+38)<75 && (x+38)-event.clientX<75){
					
					x2=x;
					y2=y+75;
					if(x2==x3 && y2==y3){
						alert("You cannot move because of collision");
						exit();
						p=1;
					
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x,y=y+75, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();
				}
				}else{
					a=1;
					alert("Invalid move");
				
			}
			}
			else if((x-38)>event.clientX && event.clientY<(y+38)){
				a=0;
				if((x-38)-event.clientX <75 && (y+38)-event.clientY<75){
					
					x2=x-75;
					y2=y;
					if(x2==x3 && y2==y3){
						alert("You cannot move because of collision");
						exit();
						p=1;
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x=x-75,y, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();	
					}
				}else{
					a=1;
					alert("Invalid move");
				}
			
			}else if((y-38)>event.clientY && event.clientX<(x+38)){
				a=0;
				if((y-38)-event.clientY<75 && (x+38)- event.clientX<75){
					
					x2=x;
					y2=y-75;
					if(x2==x3 && y2==y3){
						alert("You cannot move because of collision");
						exit();
						p=1;
					}else{
						ctx.clearRect(x-30,y-30, 55,55);
						ctx.beginPath();
						ctx.arc(x,y=y-75, 25, 0, Math.PI * 2);
						ctx.fillStyle = 'blue';
						ctx.fill();	
				}
				}else{
					a=1;
					alert("Invalid move");
				
				
				}	
			
		}	else if((y+38)<event.clientY && event.clientX>x+38){
			
				a=1;
				alert("Invalid move");
		
			}
		
		}
		
	//success
	
	
		var date= new Date().getTime();
		timetake5.push(date);
		xaxis5.push(x);
		yaxis5.push(y);
		localStorage.setItem("time5", timetake5);
	
		localStorage.setItem("xaxis5", xaxis5);
	
		localStorage.setItem("yaxis5", yaxis5);
	
	
	
	
	
	
// computer move
	if(a!=1){
		if(y3==262 && x3==287){
			if(x2==287 && y2==337){
			//
		
			}else{
				p=1;
				ctx.clearRect(x3-30,y3-30, 55,55);
				ctx.beginPath();
				ctx.arc(x3,y3=y3+75, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();	
		}
		}else if(y3==337 && x3==287){
				if(x2==287 && y2==412){
					//
		
					}else{
			
				ctx.clearRect(x3-30,y3-30, 55,55);
				ctx.beginPath();
				ctx.arc(x3,y3=y3+75, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();
				flag=flag-1;
				}
			}
			
		else if(y3==412 && x3==287){
			if(x2==287 && y2==412-75){
			//
		
			}else{
				ctx.clearRect(x3-30,y3-30, 55,55);
				p=0;
				ctx.beginPath();
				ctx.arc(x3,y3=y3-75, 25, 0, Math.PI * 2);
				ctx.fillStyle = 'red';
				ctx.fill();
	}
	
	}
	}else{
		//
	}
	
	
	
	
	
	
	
	
	
	
	xaxis.push(x2);
	yaxis.push(y2);
	var date= new Date();
	timetake.push(date.getTime());
	
	
	
	}
	//clock
	
	function countdownn(secs){
	
		ctx.clearRect(790,470,600,100);
	//	ctx.clearRect(900,200,600,100);
		ctx.font="bold 20px Tahoma";
		ctx.fillStyle = 'black';
		ctx.fillText("Time remaining : "+secs+" seconds", 800,500);
		
		if(x==512 && y==412){
			//clearRect(300,450,600,400);
			//ctx.fillText("Your Score : "+ score1,400,500);
			clearTimeout(myvar1);
		//	ctx.fillText (" Your time is up!!",450,50);
		//	success();
		//	exit();
			window.location.replace("Lvl5_success.html");
		}
		
		secs--;
		var myvar1= setTimeout('countdownn('+secs+')',1000);
		
	}
	window.addEventListener("load", countdownn(30), false );
	
	
	
	
	function countdown(secs){
	
		ctx.clearRect(790,470,600,100);
	//	ctx.clearRect(900,200,600,100);
		ctx.font="bold 20px Tahoma";
		ctx.fillStyle = 'black';
		ctx.fillText("Time remaining : "+secs+" seconds", 800,500);
		
		if(secs<1){
			//clearRect(300,450,600,400);
			//ctx.fillText("Your Score : "+ score1,400,500);
			clearTimeout(myvar);
		//	ctx.fillText (" Your time is up!!",450,50);
		//	next();
		//	exit();
			window.location.replace("Lvl5_timeout.html");
		}
		
		secs--;
		var myvar= setTimeout('countdown('+secs+')',1000);
		
	}
	window.addEventListener("load", countdown(30), false );
	
	
	
	
	
	//image
	
	
	
	
	function dod(){
   
	var pic=new Image();
	pic.src= "Arndit.png"
	
	
	pic.addEventListener("load", function(){ctx.drawImage(pic,1075,0,100,100)},false);
	
	}
	
	window.addEventListener("load", dod, false );
	
	
	
	
  </script>
  
  
  <input type="button"  style="position:absolute;top:165px;left:115px;padding: 20px 30px;background-color: transparent;border-color: transparent"  onclick="fun()"  /> 
  <input type="button"  style="position:absolute;top:165px;left:190px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:165px;left:265px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:115px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:190px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:240px;left:265px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:115px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:190px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:265px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:115px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:190px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:265px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:340px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:415px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:315px;left:490px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:340px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:415px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  <input type="button"  style="position:absolute;top:390px;left:490px;padding: 20px 30px;background-color: transparent;border-color: transparent" onclick="fun()" /> 
  
	
  
  
	
  
</body>
</html>